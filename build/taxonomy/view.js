import{getElement as e,store as t}from"@wordpress/interactivity";var a={438:e=>{e.exports=import("@wordpress/interactivity-router")}},r={};function s(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={exports:{}};return a[e](o,o.exports,s),o.exports}const{state:o}=t("query-filter",{actions:{*navigate(t){t.preventDefault();const{ref:a}=e();let r,o=[];const c=new URL(window.location.href);if("INPUT"===a.tagName&&"checkbox"===a.type){r=a.name,a.closest(".wp-block-query-filter__checkboxes").querySelectorAll(`input[name="${r}"]:checked`).forEach(e=>{o.push(e.value)});const e=o.join(",");e?c.searchParams.set(r,e):c.searchParams.delete(r)}else r=a.name,o=[a.value],""===o[0]?c.searchParams.delete(r):c.searchParams.set(r,o[0]);const{actions:n}=yield Promise.resolve().then(s.bind(s,438));yield n.navigate(c.toString())},*search(t){t.preventDefault();const{ref:a}=e();let r,c,n;if("FORM"===a.tagName){const e=a.querySelector('input[type="search"]');r=a.action,c=e.name,n=e.value}else r=a.closest("form").action,c=a.name,n=a.value;n!==o.searchValue&&(o.searchValue=n,yield(async(e,t,a)=>{const r=new URL(e);t||"s"===a?r.searchParams.set(a,t):r.searchParams.delete(a);const o=r.searchParams;[...o.keys()].forEach(e=>{(e.match(/query-\d+-page/)||"paged"===e)&&o.delete(e)});const{actions:c}=await Promise.resolve().then(s.bind(s,438));await c.navigate(r.toString())})(r,n,c))}}});